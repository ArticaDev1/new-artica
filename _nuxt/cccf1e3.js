(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{571:function(e,t,r){"use strict";r.r(t);var o=r(5),n=(r(44),r(9),r(21),r(51),r(43)),c={name:"CategoryPage",transition:{name:"category",appear:!0,css:!1,enter:function(e,t){this.$store.getters["preloader/isFinished"]?e.classList.contains("projects-category")&&(n.a.change(),n.a.isEnter&&n.g.toggle(),t()):t()},leave:function(e,t){n.a.animations.forEach((function(e){e.timeScale(2).reverse().eventCallback("onReverseComplete",(function(){t()}))})),n.g.toggle()}},fetch:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.$route.params.id,e.$store.commit("projects/setProjectsActiveCat",r),e.$store.getters["projects/projectsByCat"]||"all"===r){t.next=6;break}return t.next=6,e.$store.dispatch("projects/fetchByCat",r);case 6:case"end":return t.stop()}}),t)})))()},computed:{isPreloaderFinished:function(){return this.$store.getters["preloader/isFinished"]},items:function(){return this.$store.getters["projects/projectsByCat"]}},watch:{isPreloaderFinished:function(){n.a.change(),this.$parent.$parent.$refs.scroller.locomotive.update(),n.g.ready=!0,n.g.toggle(),this.$parent.$parent.$refs.scroller.locomotive.on("scroll",(function(e){n.a.getVisibleProjects()}))}},mounted:function(){var e=this;this.$nextTick((function(){e.isPreloaderFinished&&(n.g.ready=!0,e.$parent.$parent.$refs.scroller.locomotive.update(),e.$parent.$parent.$refs.scroller.locomotive.on("scroll",(function(e){n.a.getVisibleProjects()}))),window.addEventListener("resize",n.a.createGrid),window.addEventListener("resize",n.g.toggleResize),e.$animateFake3d(),e.$splitting(),n.a.addHoverEvents()}))},beforeDestroy:function(){var e=this;setTimeout((function(){var t,r;null===(t=e.$parent.$parent.$refs)||void 0===t||null===(r=t.scroller)||void 0===r||r.locomotive.scrollTo("top",{duration:0,disableLerp:!0,offset:0})}),500)},destroyed:function(){window.removeEventListener("resize",n.a.createGrid),window.removeEventListener("resize",n.g.toggleResize)}},l=r(35),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"projects-category active"},[r("div",{staticClass:"row"},e._l(e.items,(function(t,o){return r("div",{key:o,staticClass:"projects-block"},[r("div",{staticClass:"projects-block__container"},[r("NuxtLink",{staticClass:"projects-block__image js-3d-object",attrs:{to:"/project/"+t.slug+"/"}},[r("div",{staticClass:"image cover js-3d-object__back",attrs:{"data-rotation":"2.5"}},[r("img",{staticClass:"lazyload",class:{gray:e.$device.isDesktop},attrs:{"data-src":t.preview_image,alt:"image"}})]),e._v(" "),e.$device.isDesktop?r("div",{staticClass:"projects-block-label js-3d-object__forward",attrs:{"data-rotation":"5","data-move":"10"}},[r("div",{staticClass:"projects-block-label__text splitted",attrs:{"data-splitting":""}},[e._v("\n              Открыть кейс\n            ")])]):e._e()]),e._v(" "),r("div",{staticClass:"projects-block__text"},[r("h4",{staticClass:"projects-block__title",domProps:{innerHTML:e._s(t.name)}}),e._v(" "),r("p",{staticClass:"projects-block__description"},[e._v("\n            "+e._s(t.description)+"\n          ")])])],1)])})),0)])}),[],!1,null,null,null);t.default=component.exports}}]);